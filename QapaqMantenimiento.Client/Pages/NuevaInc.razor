@page "/nueva"

@using QapaqMantenimiento.Shared;
@using QapaqMantenimiento.Client.Services;


@inject ISubTipoService subTipoService;
@inject IIncidenteService incidenteService;
@inject ITipoIncidenteService tipoService;
@inject NavigationManager navegacion;

<h3 style="text-align:center">.::Registro de Incidencias del Usuario Qapa1::.</h3>

<EditForm Model="subTipo" OnValidSubmit="OnValidateSubmit">

    <div class="form-group row">
        <label for="firstName" >
            Numero TK:
        </label>
        <div class="form-group col-md-6">
            <InputText id="firstName" class="form-control" placeholder="First Name"
            @bind-Value="incidente.ReportadoMediante" />
        </div>
    </div>
    <div class="form-group row">
        <label for="lastName" >
            Tipo Oficina:
        </label>
        <div class="form-group col-md-6">
            <InputText id="lastName" class="form-control" placeholder="Last Name"
            @bind-Value="incidente.TipoOficina" />
        </div>
    </div>
    <div class="form-group row">
        <label for="email" class="col-sm-2 col-form-label">
            Nombre Usuario:
        </label>
        <div class="col-sm-10">
            <InputText id="email" class="form-control" placeholder="Email"
            @bind-Value="incidente.NomApeUsuario" />
        </div>
    </div>
    <div class="form-group row">
        <label for="email" class="col-sm-2 col-form-label">
            Nombre Agencia:
        </label>
        <div class="col-sm-10">
            <InputText id="email" class="form-control" placeholder="Email"
            @bind-Value="incidente.NomApeUsuario" />
        </div>
    </div>
    <div class="mb-3">
        <label for="email" class="col-sm-2 col-form-label">Tipo Incidencia </label>
        <InputSelect class="form-select" @bind-Value="subTipo.IdTipoIncidente">  
            <option value="0">--Seleccionar opcion</option>
            @foreach (var item in listTipoIncidente)
            {
                <option value="@item.IdTipoIncidente">@item.Tipo</option>
            }
        </InputSelect>
        <ValidationMessage For="@(() =>subTipo.IdTipoIncidente)"></ValidationMessage>
    </div>
    <div class="mb-3">
        <label for="email" class="col-sm-2 col-form-label">Sub Tipo de Incidencia </label>
        <InputSelect class="form-select" @bind-Value="subTipo.IdSubTipo">
            <option value="0">--Seleccionar opcion</option>
            @foreach (var item in listTipoIncidente)
            {
                <option value="@item.IdTipoIncidente">@item.</option>
            }
        </InputSelect>
        <ValidationMessage For="@(() =>subTipo.IdTipoIncidente)"></ValidationMessage>
    </div>
    <div class="form-group row">
        <label for="firstName">
            Telefono Contacto:
        </label>
        <div class="form-group col-md-6">
            <InputText id="firstName" class="form-control" placeholder="First Name"
            @bind-Value="incidente.ReportadoMediante" />
        </div>
    </div>
    <div class="form-group row">
        <label for="firstName">
            Nombre PC:
        </label>
        <div class="form-group col-md-6">
            <InputText id="firstName" class="form-control" placeholder="First Name"
            @bind-Value="incidente.ReportadoMediante" />
        </div>
    </div>
    <div class="form-group row">
    <div class="form-group">
        <label for="exampleFormControlTextarea1">Example textarea</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
    </div>
    </div>
    <br />
    <button type="button" class="btn btn-primary">
        Enviar
    </button>
</EditForm>

@code {
    SubTipoDTO subTipo = new SubTipoDTO();
    IncidenteDTO incidente = new IncidenteDTO();
    List<TipoIncidenteDTO> listTipoIncidente = new List<TipoIncidenteDTO>(); 
    List<IncidenteDTO> listIncidente = new List<IncidenteDTO>();

    private async Task OnValidateSubmit()
    {
    }

}
